"use strict";(self["webpackChunkvue_pjt"]=self["webpackChunkvue_pjt"]||[]).push([[390],{80390:function(t,e,a){a.r(e),a.d(e,{default:function(){return q}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"map"}}),a("p",[a("input",{attrs:{type:"checkbox",id:"chkUseDistrict"},on:{click:t.setOverlayMapTypeId}}),t._v(" 지적편집도 정보 보기 "),a("input",{attrs:{type:"checkbox",id:"chkTerrain"},on:{click:t.setOverlayMapTypeId}}),t._v(" 지형정보 보기 "),a("input",{attrs:{type:"checkbox",id:"chkTraffic"},on:{click:t.setOverlayMapTypeId}}),t._v(" 교통정보 보기 "),a("input",{attrs:{type:"checkbox",id:"chkBicycle"},on:{click:t.setOverlayMapTypeId}}),t._v(" 자전거도로 정보 보기 ")]),a("apt-search-bar",{staticClass:"apt-search-form",on:{searchApt:t.searchApt}}),a("apt-list",{staticClass:"apt-list-form",attrs:{category:t.category,areaApts:t.areaApts},on:{showDetail:t.showDetail}}),t.detailToggle?a("apt-detail",{staticClass:"apt-detail-form",attrs:{apt:t.apt},on:{closeDetail:t.closeDetail,printRoadView:t.printRoadView}}):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.roadViewToggle,expression:"roadViewToggle"}],staticClass:"apt-roadview-form"},[a("div",{staticClass:"closeRoadView"},[a("b-icon",{staticClass:"roadViewBack",attrs:{icon:"arrow-right",scale:"2",variant:"dark"},on:{click:t.closeRoadView}})],1),a("div",{staticClass:"apt-roadview",attrs:{id:"roadview"}})]),t._m(0)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"atc-info-form"},[a("div",{staticClass:"map_wrap"},[a("ul",{attrs:{id:"category"}},[a("li",{attrs:{id:"BK9","data-order":"0"}},[a("span",{staticClass:"category_bg bank"}),t._v(" 은행 ")]),a("li",{attrs:{id:"MT1","data-order":"1"}},[a("span",{staticClass:"category_bg mart"}),t._v(" 마트 ")]),a("li",{attrs:{id:"PM9","data-order":"2"}},[a("span",{staticClass:"category_bg pharmacy"}),t._v(" 약국 ")]),a("li",{attrs:{id:"OL7","data-order":"3"}},[a("span",{staticClass:"category_bg oil"}),t._v(" 주유소 ")]),a("li",{attrs:{id:"CE7","data-order":"4"}},[a("span",{staticClass:"category_bg cafe"}),t._v(" 카페 ")]),a("li",{attrs:{id:"CS2","data-order":"5"}},[a("span",{staticClass:"category_bg store"}),t._v(" 편의점 ")]),a("li",{attrs:{id:"MT1","data-order":"0"}},[a("span",{staticClass:"category_bg store"}),t._v(" 대형마트 ")]),a("li",{attrs:{id:"PS3","data-order":"1"}},[a("span",{staticClass:"category_bg store"}),t._v(" 어린이집 ")]),a("li",{attrs:{id:"SC4","data-order":"2"}},[a("span",{staticClass:"category_bg store"}),t._v(" 학교 ")]),a("li",{attrs:{id:"PK6","data-order":"3"}},[a("span",{staticClass:"category_bg store"}),t._v(" 주차장 ")]),a("li",{attrs:{id:"SW8","data-order":"4"}},[a("span",{staticClass:"category_bg store"}),t._v(" 지하철역 ")]),a("li",{attrs:{id:"AD5","data-order":"5"}},[a("span",{staticClass:"category_bg store"}),t._v(" 숙박 ")]),a("li",{attrs:{id:"HP8","data-order":"0"}},[a("span",{staticClass:"category_bg store"}),t._v(" 병원 ")]),a("li",{attrs:{id:"FD6 ","data-order":"1"}},[a("span",{staticClass:"category_bg store"}),t._v(" 음식점 ")])])])])}],n=a(93019),o=(a(21249),a(41539),a(54747),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"apt-search-form"},[a("div",{staticClass:"search-title"},[t._v("지역 검색")]),a("b-form-select",{staticClass:"search-option",attrs:{options:t.sidos},on:{change:t.gugunList},model:{value:t.selected_sido,callback:function(e){t.selected_sido=e},expression:"selected_sido"}},[t._v("시도")]),a("b-form-select",{staticClass:"search-option",attrs:{options:t.guguns},model:{value:t.selected_gugun,callback:function(e){t.selected_gugun=e},expression:"selected_gugun"}},[t._v("구군")]),a("b-button",{staticClass:"btn-area-search",attrs:{variant:"outline-primary"},on:{click:t.searchApt}},[t._v("검색")]),a("b-input-group",{staticClass:"filter-input-group",attrs:{size:t.sm},on:{click:t.openFilter}},[a("b-form-input",{attrs:{disabled:"",placeholder:"필터 추가",size:"sm"}}),a("b-input-group-append",[a("b-button",{staticClass:"filterToggle",attrs:{variant:"outline-primary",size:"sm"}},[t._v("필터")])],1)],1),t.toggleFilter?a("div",[a("b-input-group",{staticClass:"mt-3"},[a("b-form-input",{attrs:{placeholder:"원하는 아파트 이름을 입력하세요"},on:{keyup:t.setName},model:{value:t.filterAptName,callback:function(e){t.filterAptName=e},expression:"filterAptName"}})],1)],1):t._e()],1)}),r=[];a(82526),a(41817),a(32165),a(78783),a(33948),a(21703),a(47042),a(68309),a(91038),a(74916),a(77601);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}function c(t,e){if(t){if("string"===typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(t,e):void 0}}function d(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=c(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var s=0,i=function(){};return{s:i,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(r)throw n}}}}var p=a(34665),u="aptStore",m={name:"aptSearchBar",data:function(){return{selected_sido:null,selected_gugun:null,selected_dong:null,toggleFilter:!1,filterAptName:""}},computed:(0,n.Z)({},(0,p.rn)(u,["sidos","guguns"])),created:function(){this.CLEAR_SIDO_LIST(),this.getSido(),this.CLEAR_APTS(),this.CLEAR_APT(),this.SET_FILTERAPTNAME("")},methods:(0,n.Z)((0,n.Z)((0,n.Z)({},(0,p.nv)(u,["getSido","getGugun","getAptList","setSelectedSido"])),(0,p.OI)(u,["CLEAR_SIDO_LIST","CLEAR_GUGUN_LIST","SET_SELECTED_SIDO","CLEAR_APTS","CLEAR_APT","SET_FILTERAPTNAME"])),{},{gugunList:function(){this.CLEAR_GUGUN_LIST(),this.selected_gugun=null,this.selected_sido&&this.getGugun(this.selected_sido)},searchApt:function(){if(this.selected_gugun){var t,e=d(this.sidos);try{for(e.s();!(t=e.n()).done;){var a=t.value;this.selected_sido===a.value&&this.setSelectedSido(a.text)}}catch(s){e.e(s)}finally{e.f()}this.$emit("searchApt",this.selected_gugun)}},openFilter:function(){this.SET_FILTERAPTNAME(""),this.toggleFilter=!this.toggleFilter},setName:function(){this.SET_FILTERAPTNAME(this.filterAptName)}})},g=m,f=a(1001),h=(0,f.Z)(g,o,r,!1,null,"26880d4a",null),v=h.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("div",{staticClass:"info-list-title",on:{click:t.toggleList}},[t._v("아파트 매매 정보")]),t.listToggle?a("div",{staticClass:"info-list-contents"},t._l(t.areaApts,(function(e,s){return a("apt-list-item",{key:s,staticClass:"info-list-content",attrs:{apt:e},on:{showDetail:t.showDetail}})})),1):t._e(),a("div",{staticClass:"info-list-title",on:{click:t.toggleAround}},[t._v("주변 정보")]),t.aroundToggle?a("div",{staticClass:"info-list-contents"},t._l(t.category,(function(t,e){return a("apt-category-item",{key:e,staticClass:"info-list-content",attrs:{item:t}})})),1):t._e()])},_=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-list-content",on:{click:t.showDetail}},[a("b-row",{staticClass:"info-list-content-info"},[a("div",{staticClass:"info-list-title"},[t._v(t._s(t.apt.아파트))]),a("div",{staticClass:"info-list-price"},[t._v(" 거래 금액 : "+t._s(t._f("addMillionWon")(t.apt.거래금액))+" ")]),a("div",{staticClass:"info-list-address"},[a("span",[t._v("주소 : "+t._s(t.apt.도로명)+" "+t._s(t._f("removeZeroAddress")(t.apt.도로명건물본번호코드)))])])])],1)},w=[],b=(a(9653),{name:"aptListItem",props:{apt:Object},methods:{showDetail:function(){this.$emit("showDetail",this.apt)}},filters:{addMillionWon:function(t){return t+" 만원"},removeZeroAddress:function(t){return Number(t)}}}),T=b,C=(0,f.Z)(T,y,w,!1,null,"5e3580da",null),L=C.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info-list-content"},[a("b-row",{staticClass:"info-list-content-info"},[a("div",{staticClass:"info-list-title"},[t._v(t._s(t.item.place_name))]),a("div",{staticClass:"info-list-price"},[t._v("주소 : "+t._s(t.item.address_name))]),a("div",{staticClass:"info-list-price"},[a("a",{attrs:{href:t.item.place_url}},[t._v(" 카카오맵 검색 ")])])])],1)},I=[],M={name:"aptListItem",props:{item:Object}},E=M,S=(0,f.Z)(E,A,I,!1,null,"2281ab92",null),D=S.exports,R="aptStore",N={name:"aptList",props:{category:Array,areaApts:Array},components:{AptListItem:L,AptCategoryItem:D},data:function(){return{listToggle:!1,aroundToggle:!1}},computed:(0,n.Z)({},(0,p.rn)(R,["apts"])),methods:{showDetail:function(t){this.$emit("showDetail",t)},toggleList:function(){this.listToggle=!this.listToggle},toggleAround:function(){this.aroundToggle=!this.aroundToggle}}},P=N,O=(0,f.Z)(P,k,_,!1,null,"8763b49a",null),x=O.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"closeDetail"},[a("b-icon",{attrs:{icon:"arrow-right",scale:"2",variant:"dark"},on:{click:t.closeDetail}})],1),a("div",{staticClass:"apt-detail-info"},[a("hr"),a("p",{staticClass:"apt-detail-title"},[t._v(t._s(t._f("aptName")(t.apt.아파트)))]),a("hr"),a("p",{staticClass:"apt-detail-price"},[t._v("금액 : "+t._s(t._f("addMillionWon")(t.apt.거래금액)))]),a("p",{staticClass:"apt-detail-build"},[t._v("건축연도 : "+t._s(t.apt.건축년도))]),a("p",{staticClass:"apt-detail-address-road"},[t._v(" 주소 : "+t._s(t.apt.도로명)+" "+t._s(t._f("removeZeroAddress")(t.apt.도로명건물본번호코드))+" ")]),a("p",{staticClass:"apt-detail-floar"},[t._v("층 : "+t._s(t.apt.층))]),a("hr")]),t.userInfo?a("div",[t.dibToggle?a("div",{staticClass:"heart",on:{click:t.remove}},[a("b-icon",{attrs:{icon:"heart-fill",variant:"danger"}}),t._v(" 매물 찜 취소 ")],1):t._e(),t.dibToggle?t._e():a("div",{staticClass:"heart",on:{click:t.addNewDib}},[a("b-icon",{attrs:{icon:"heart",variant:"danger"}}),t._v(" 매물 찜 ")],1)]):t._e(),a("p",{staticClass:"openRoadView",on:{click:t.printRoadView}},[t._v("로드뷰")])])},V=[],B=a(16198),F=(a(78975),"memberStore"),$="dibStore",j={name:"aptDetail",props:{apt:Object},data:function(){return{dibToggle:"false"}},computed:(0,n.Z)((0,n.Z)({},(0,p.rn)(F,["userInfo"])),(0,p.rn)($,["dibList"])),created:function(){this.userInfo&&(this.getList(this.userInfo.userid),this.toggleDib())},filters:{aptName:function(t){return t+" 아파트"},addMillionWon:function(t){return t+" 만원"},removeZeroAddress:function(t){return Number(t)}},methods:(0,n.Z)((0,n.Z)({},(0,p.nv)($,["addDib","getList","removeDib"])),{},{closeDetail:function(){this.$emit("closeDetail")},printRoadView:function(){this.$emit("printRoadView",this.apt.index)},addNewDib:function(){var t=this;return(0,B.Z)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={userid:t.userInfo.userid,aptName:t.apt.아파트,la:t.apt.La,ma:t.apt.Ma,buildyear:t.apt.건축년도,floor:t.apt.층,address:t.apt.도로명,addressCode:t.apt.도로명건물본번호코드,serialNumber:t.apt.일련번호},t.addDib(a),t.getList(t.userInfo.userid),setTimeout((function(){t.getList(t.userInfo.userid),setTimeout((function(){t.toggleDib()}),100)}),100);case 4:case"end":return e.stop()}}),e)})))()},remove:function(){var t=this,e={floor:this.apt.층,serialNumber:this.apt.일련번호};this.removeDib(e),setTimeout((function(){t.getList(t.userInfo.userid),setTimeout((function(){t.toggleDib()}),100)}),100)},toggleDib:function(){var t=this;this.dibList.some((function(e){return e.serialNumber==t.apt.일련번호&&e.floor==t.apt.층}))?this.dibToggle=!0:this.dibToggle=!1}})},z=j,U=(0,f.Z)(z,Z,V,!1,null,"6e31fdea",null),G=U.exports,W="aptStore",K={name:"aptMap",data:function(){return{markers:{},markerPositions:[],mapTypes:{},apt:"",category:[],areaApts:[],infoToggle:!1,detailToggle:!1,roadViewToggle:!1}},components:{AptSearchBar:v,AptList:x,AptDetail:G},mounted:function(){var t=this;if(window.kakao&&window.kakao.maps)this.initMap();else{var e=document.createElement("script");e.onload=function(){return kakao.maps.load(t.initMap)},e.src="//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=04013d521172d5dd8708bd56e4a64b40&libraries=services",document.head.appendChild(e)}},computed:(0,n.Z)({},(0,p.rn)(W,["sidos","guguns","apts","sido"])),methods:(0,n.Z)((0,n.Z)({},(0,p.nv)(W,["getAptList"])),{},{getInfo:function(){var t=this,e=this.map.getBounds(),a=e.getSouthWest(),s=e.getNorthEast();this.areaApts=[],this.apts.some((function(e){e.La>a.La&&e.Ma>a.Ma&&e.La<s.La&&e.Ma<s.Ma&&t.areaApts.push(e)})),setTimeout((function(){console.log(t.areaApts)}),100)},searchApt:function(t){if(t){this.markerPositions=[];var e=this;this.closeDetail(),this.closeRoadView(),this.getAptList(t),setTimeout((function(){e.getAptPositions(),e.infoToggle=!0}),500)}},initMap:function(){var t=document.getElementById("map"),e={center:new kakao.maps.LatLng(33.450701,126.570667),level:5};this.map=new kakao.maps.Map(t,e),this.createCategorySearch(),this.mapTypes={terrain:kakao.maps.MapTypeId.TERRAIN,traffic:kakao.maps.MapTypeId.TRAFFIC,bicycle:kakao.maps.MapTypeId.BICYCLE,useDistrict:kakao.maps.MapTypeId.USE_DISTRICT}},displayMarker:function(){var t=this;this.markers.length>0&&this.markers.forEach((function(t){return t.setMap(null)})),this.markers=[];var e="https://cdn3.iconfinder.com/data/icons/start-up-4/44/office-512.png",a=new kakao.maps.Size(50,55),s={offset:new kakao.maps.Point(27,69)},i=new kakao.maps.MarkerImage(e,a,s);this.markerPositions.length>0&&function(){for(var e=t,a=function(a){t.markers[a]=new kakao.maps.Marker({map:t.map,position:t.markerPositions[a],image:i}),kakao.maps.event.addListener(t.markers[a],"click",(function(){e.apt=e.apts[a],e.showDetail(e.apt),e.closeRoadView()}))},s=0;s<t.markerPositions.length;s++)a(s);var n=t.markerPositions.reduce((function(t,e){return t.extend(e)}),new kakao.maps.LatLngBounds);t.map.setBounds(n)}()},getAptPositions:function(){var t=this;window.kakao&&window.kakao.maps&&function(){for(var e=new kakao.maps.services.Geocoder,a=t,s=function(s){e.addressSearch(t.sido+" "+t.apts[s].도로명+" "+t.apts[s].도로명건물본번호코드,(function(t,e){if(e===kakao.maps.services.Status.OK){var i=new kakao.maps.LatLng(t[0].y,t[0].x);a.markerPositions[s]=i,a.apts[s].index=s,a.apts[s].La=i.La,a.apts[s].Ma=i.Ma,s==a.apts.length-1&&setTimeout((function(){a.displayMarker()}),500)}}))},i=0;i<t.apts.length;i++)s(i)}()},showDetail:function(t){this.apt=t,this.detailToggle=!0;var e=new kakao.maps.LatLng(t.Ma,t.La);this.map.setLevel(2),this.map.setCenter(e)},showRoadView:function(t){var e=document.getElementById("roadview"),a=new kakao.maps.Roadview(e),s=new kakao.maps.RoadviewClient,i={},n=new kakao.maps.LatLng(t.Ma,t.La);s.getNearestPanoId(n,100,(function(t){a.setPanoId(t,n)})),kakao.maps.event.addListener(a,"init",(function(){var e=new kakao.maps.Marker({position:n,map:a});e.setAltitude(10),e.setRange(100);var s=a.getProjection(),o=s.viewpointFromCoords(e.getPosition(),e.getAltitude());a.setViewpoint(o);var r=new kakao.maps.InfoWindow({position:n,content:t.아파트});r.open(a,e),i.pan=o.pan,i.tilt=o.tilt,i.zoom=o.zoom}))},closeDetail:function(){this.detailToggle=!1},closeRoadView:function(){this.roadViewToggle=!1},printRoadView:function(t){this.showRoadView(this.apts[t]),this.roadViewToggle=!0},createCategorySearch:function(){var t=this,e=new kakao.maps.CustomOverlay({zIndex:5}),a=document.createElement("div"),s=[],i="",n=new kakao.maps.services.Places(this.map);function o(t,e,a){t.addEventListener?t.addEventListener(e,a):t.attachEvent("on"+e,a)}function r(){i&&(e.setMap(null),p(),n.categorySearch(i,l,{useMapBounds:!0}))}function l(e,a){a===kakao.maps.services.Status.OK?(t.category=e,c(e)):a===kakao.maps.services.Status.ZERO_RESULT||kakao.maps.services.Status.ERROR}function c(t){for(var e=document.getElementById(i).getAttribute("data-order"),a=0;a<t.length;a++){var s=d(new kakao.maps.LatLng(t[a].y,t[a].x),e);(function(t,e){kakao.maps.event.addListener(t,"click",(function(){u(e)}))})(s,t[a])}}function d(e,a){var i="https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png",n=new kakao.maps.Size(27,28),o={spriteSize:new kakao.maps.Size(72,208),spriteOrigin:new kakao.maps.Point(46,36*a),offset:new kakao.maps.Point(11,28)},r=new kakao.maps.MarkerImage(i,n,o),l=new kakao.maps.Marker({position:e,image:r});return l.setMap(t.map),s.push(l),l}function p(){for(var t=0;t<s.length;t++)s[t].setMap(null);s=[]}function u(s){var i='<div class="placeinfo">   <a class="title" href="'+s.place_url+'" target="_blank" title="'+s.place_name+'">'+s.place_name+"</a>";s.road_address_name?i+='    <span title="'+s.road_address_name+'">'+s.road_address_name+'</span>  <span class="jibun" title="'+s.address_name+'">(지번 : '+s.address_name+")</span>":i+='    <span title="'+s.address_name+'">'+s.address_name+"</span>",i+='    <span class="tel">'+s.phone+'</span></div><div class="after"></div>',a.innerHTML=i,e.setPosition(new kakao.maps.LatLng(s.y,s.x)),e.setMap(t.map)}function m(){for(var t=document.getElementById("category"),e=t.children,a=0;a<e.length;a++)e[a].onclick=g}function g(){t.category=[];var a=this.id,s=this.className;e.setMap(null),"on"===s?(i="",f(),p()):(i=a,f(this),r())}function f(t){var e,a=document.getElementById("category"),s=a.children;for(e=0;e<s.length;e++)s[e].className="";t&&(t.className="on")}kakao.maps.event.addListener(this.map,"idle",r),kakao.maps.event.addListener(this.map,"idle",this.getInfo),a.className="placeinfo_wrap",o(a,"mousedown",kakao.maps.event.preventMap),o(a,"touchstart",kakao.maps.event.preventMap),e.setContent(a),m()},setOverlayMapTypeId:function(){var t=document.getElementById("chkTerrain"),e=document.getElementById("chkTraffic"),a=document.getElementById("chkBicycle"),s=document.getElementById("chkUseDistrict");for(var i in this.mapTypes)this.map.removeOverlayMapTypeId(this.mapTypes[i]);s.checked&&this.map.addOverlayMapTypeId(this.mapTypes.useDistrict),t.checked&&this.map.addOverlayMapTypeId(this.mapTypes.terrain),e.checked&&this.map.addOverlayMapTypeId(this.mapTypes.traffic),a.checked&&this.map.addOverlayMapTypeId(this.mapTypes.bicycle)}})},H=K,Y=(0,f.Z)(H,s,i,!1,null,null,null),q=Y.exports}}]);
//# sourceMappingURL=390-legacy.dcf68110.js.map